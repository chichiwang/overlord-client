// nib is a powerful lib for stylus that provides cross-browser css3 mixins.
// No more vendor prefixes. http://visionmedia.github.com/nib/
@import 'nib'

#Pages
  display: flex
  flex-flow: column
  width: 70%
  overflow: hidden
  // background: green
  perspective: 800px
  perspective-origin: 0% 50%
  $hardwareAccel()
  
  .wrapper
    display: flex
    flex-flow: column
    justify-content: center
    align-items: center
    width: 100%
    flex: 2
    transform: rotateY(45deg)
    transform-origin: 0% 50%
    transition: transform 400ms linear

    .page-wrapper
      width: 100%
      min-height: 250px
      perspective: 800px
    
    .page
      position: absolute
      top: 0
      left: 0
      padding: 1em
      padding-top: 5%
      width: 100%
      height: 100%
      transform: translateX(100%) translateZ(-90em) rotateY(135deg)
      opacity: 0
      transition: transform 800ms ease-in-out,
                  opacity 400ms linear 400ms
      pointer-events: none
      
      .pane
        position: relative
        padding: 1px 1em 1em 1em
        height: 100%
        text-align: center
        border: 3px solid rgba($primaryColor, 0.75)
        border-radius: 15px
        background-color: rgba($secondaryColor, 0.1)
        
        &:before,
        &::before
          content: " "
          position: absolute
          width: 100%
          height: 100%
          top: 0
          left: 0
          z-index: -1
          background-color: #000000
        
      .title
        display: inline-block
        padding: 0.5em 1em
        font-size: 1.5em
        border-radius: 0 15px
        // background-color: rgba($secondaryColor, 0.25)
      
  &.boot .page.boot
    transform: translateX(0) translateZ(0) rotateY(0)
    opacity: 1
    pointer-events: auto
  
  &.code .page.code
    transform: translateX(0) translateZ(0) rotateY(0)
    opacity: 1
    pointer-events: auto
    
  &.access .page.access
    transform: translateX(0) translateZ(0) rotateY(0)
    opacity: 1
    pointer-events: auto

  &.active
    .wrapper
      transform: rotateY(0deg) translateX(0em) translateZ(0em)